<div class="wrapper wrapper-content animated fadeInRight ecommerce">
	<div class="ibox float-e-margins">
		<div class="ibox-title">
			<h5>公告管理</h5>
			<div ibox-tools></div>
		</div>
		<div class="ibox-content">
			<nav class="row m-b-xs">
				<div class="col-xs-5">
					<input class="form-control input-sm" id="filter" placeholder="请输入关键字搜索">
				</div>
				<div class="col-xs-7 text-right">
					<button class="btn-primary btn btn-sm" ng-click="onSave()">添加公告</button>
				</div>
			</nav>
			<table ng-show="isLoad" class="footable table table-stripped toggle-arrow-tiny" data-page-size="10" data-filter=#filter>
				<thead>
					<tr>
						<th>序号</th>
						<th>标题</th>
						<th>通知时间</th>
						<th>状态</th>
						<th class="text-right">操作</th>
						<th data-hide="all">内容 </th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="item in noticeList">
						<td>{{ $index+1 }}</td>
						<td style="width:640px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">{{ item.title }}</td>
						<td>{{ item.startTime +' ~ '+ item.endTime}}</td>
						<td>{{ item.status ? '正常':'失效' }}</td>
						<td class="text-right">
							<div class="btn-group">
								<button class="btn-white btn btn-xs" ng-click="onStatus(item)">取消通知</button>
								<button class="btn-white btn btn-xs" ng-click="onSave(item)">编辑</button>
								<button class="btn-white btn btn-xs" ng-click="onRemove(item)">删除</button>
							</div>
						</td>
						<td><span style="white-space: pre;">{{ item.content }}</span></td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<td colspan="5">
							<ul class="pagination pull-right"></ul>
						</td>
					</tr>
				</tfoot>
			</table>
		</div>
	</div>
</div>

<aside class="modal fade" id="saveModal">
	<div class="modal-dialog" style="width: 50%;">
		<div class="modal-content">
			<div class="modal-header">
				<button class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">{{ activeItem._id?'编辑公告':'添加公告' }}</h4>
			</div>
			<div class="modal-body">
				<form class="form-horizontal">
					<fieldset class="form-group">
						<label class="col-sm-2 control-label"><span class="text-danger">*</span> 标 题</label>
						<div class="col-sm-10">
							<input class="form-control" ng-model="activeItem.title">
						</div>
					</fieldset>
					<fieldset class="form-group">
						<label class="col-sm-2 control-label"><span class="text-danger">*</span> 内 容</label>
						<div class="col-sm-10">
							<textarea class="form-control" rows="10" ng-model="activeItem.content"></textarea>
						</div>
					</fieldset>
					<fieldset class="form-group">
						<label class="col-sm-2 control-label"><span class="text-danger">*</span> 通知时间</label>
						<div class="col-sm-5">
							<input class="form-control" id="startTime" ng-model="activeItem.startTime">
						</div>
						<div class="col-sm-5">
							<input class="form-control" id="endTime" ng-model="activeItem.endTime">
						</div>
					</fieldset>
				</form>
			</div>
			<div class="modal-footer">
				<button class="btn btn-primary btn-w-m" ng-click="saveModal()">保 存</button>
				<button class="btn btn-default btn-w-m" data-dismiss="modal">取 消</button>
			</div>
		</div>
	</div>
</aside>